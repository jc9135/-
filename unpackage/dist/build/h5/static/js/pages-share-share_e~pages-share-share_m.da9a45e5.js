(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-share-share_e~pages-share-share_m"],{"0fc0":function(e,t,n){"use strict";function r(e){if(!document.queryCommandSupported("copy"))return!1;var t=document.createElement("textarea");t.value=e,t.readOnly="readOnly",document.body.appendChild(t),t.select(),t.setSelectionRange(0,e.length);var n=document.execCommand("copy");return t.remove(),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"3a36":function(e,t,n){var r;n("c975"),n("ac1f"),n("466d"),n("5319"),n("1276");var i=n("9523");!function(i,o){r=function(){return o(i)}.call(t,n,t,e),void 0===r||(e.exports=r)}(window,(function(e,t){if(!e.jWeixin){var n,r,o={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},a=function(){var e={};for(var t in o)e[o[t]]=t;return e}(),s=e.document,c=s.title,u=navigator.userAgent.toLowerCase(),d=navigator.platform.toLowerCase(),l=!(!d.match("mac")&&!d.match("win")),f=-1!=u.indexOf("wxdebugger"),h=-1!=u.indexOf("micromessenger"),p=-1!=u.indexOf("android"),g=-1!=u.indexOf("iphone")||-1!=u.indexOf("ipad"),m=(r=u.match(/micromessenger\/(\d+\.\d+\.\d+)/)||u.match(/micromessenger\/(\d+\.\d+)/))?r[1]:"",v={initStartTime:D(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},w={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:g?1:p?2:-1,clientVersion:m,url:encodeURIComponent(location.href)},y={},T={_completes:[]},_={state:0,data:{}};O((function(){v.initEndTime=D()}));var k=!1,I=[],C=(n={config:function(t){x("config",y=t);var n=!1!==y.check;O((function(){if(n)E(o.config,{verifyJsApiList:B(y.jsApiList),verifyOpenTagList:B(y.openTagList)},function(){T._complete=function(e){v.preVerifyEndTime=D(),_.state=1,_.data=e},T.success=function(e){w.isPreVerifyOk=0},T.fail=function(e){T._fail?T._fail(e):_.state=-1};var e=T._completes;return e.push((function(){!function(){if(!(l||f||y.debug||m<"6.0.2"||w.systemType<0)){var e=new Image;w.appId=y.appId,w.initTime=v.initEndTime-v.initStartTime,w.preVerifyTime=v.preVerifyEndTime-v.preVerifyStartTime,C.getNetworkType({isInnerInvoke:!0,success:function(t){w.networkType=t.networkType;var n="https://open.weixin.qq.com/sdk/report?v="+w.version+"&o="+w.isPreVerifyOk+"&s="+w.systemType+"&c="+w.clientVersion+"&a="+w.appId+"&n="+w.networkType+"&i="+w.initTime+"&p="+w.preVerifyTime+"&u="+w.url;e.src=n}})}}()})),T.complete=function(t){for(var n=0,r=e.length;n<r;++n)e[n]();T._completes=[]},T}()),v.preVerifyStartTime=D();else{_.state=1;for(var e=T._completes,t=0,r=e.length;t<r;++t)e[t]();T._completes=[]}})),C.invoke||(C.invoke=function(t,n,r){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,b(n),r)},C.on=function(t,n){e.WeixinJSBridge&&WeixinJSBridge.on(t,n)})},ready:function(e){0!=_.state?e():(T._completes.push(e),!h&&y.debug&&e())},error:function(e){m<"6.0.2"||(-1==_.state?e(_.data):T._fail=e)},checkJsApi:function(e){E("checkJsApi",{jsApiList:B(e.jsApiList)},(e._complete=function(e){if(p){var t=e.checkResult;t&&(e.checkResult=JSON.parse(t))}e=function(e){var t=e.checkResult;for(var n in t){var r=a[n];r&&(t[r]=t[n],delete t[n])}return e}(e)},e))},onMenuShareTimeline:function(e){S(o.onMenuShareTimeline,{complete:function(){E("shareTimeline",{title:e.title||c,desc:e.title||c,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){S(o.onMenuShareAppMessage,{complete:function(t){"favorite"===t.scene?E("sendAppMessage",{title:e.title||c,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):E("sendAppMessage",{title:e.title||c,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){S(o.onMenuShareQQ,{complete:function(){E("shareQQ",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){S(o.onMenuShareWeibo,{complete:function(){E("shareWeiboApp",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){S(o.onMenuShareQZone,{complete:function(){E("shareQZone",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){E("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){E("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){E("startRecord",{},e)},stopRecord:function(e){E("stopRecord",{},e)},onVoiceRecordEnd:function(e){S("onVoiceRecordEnd",e)},playVoice:function(e){E("playVoice",{localId:e.localId},e)},pauseVoice:function(e){E("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){E("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){S("onVoicePlayEnd",e)},uploadVoice:function(e){E("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){E("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){E("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){E("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(p){var t=e.localIds;try{t&&(e.localIds=JSON.parse(t))}catch(e){}}},e))},getLocation:function(e){},previewImage:function(e){E(o.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){E("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){E("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===k?(k=!0,E("getLocalImgData",{localId:e.localId},(e._complete=function(e){if(k=!1,0<I.length){var t=I.shift();wx.getLocalImgData(t)}},e))):I.push(e)},getNetworkType:function(e){E("getNetworkType",{},(e._complete=function(e){e=function(e){var t=e.errMsg;e.errMsg="getNetworkType:ok";var n=e.subtype;if(delete e.subtype,n)e.networkType=n;else{var r=t.indexOf(":"),i=t.substring(r+1);switch(i){case"wifi":case"edge":case"wwan":e.networkType=i;break;default:e.errMsg="getNetworkType:fail"}}return e}(e)},e))},openLocation:function(e){E("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)}},i(n,"getLocation",(function(e){E(o.getLocation,{type:(e=e||{}).type||"wgs84"},(e._complete=function(e){delete e.type},e))})),i(n,"hideOptionMenu",(function(e){E("hideOptionMenu",{},e)})),i(n,"showOptionMenu",(function(e){E("showOptionMenu",{},e)})),i(n,"closeWindow",(function(e){E("closeWindow",{},e=e||{})})),i(n,"hideMenuItems",(function(e){E("hideMenuItems",{menuList:e.menuList},e)})),i(n,"showMenuItems",(function(e){E("showMenuItems",{menuList:e.menuList},e)})),i(n,"hideAllNonBaseMenuItem",(function(e){E("hideAllNonBaseMenuItem",{},e)})),i(n,"showAllNonBaseMenuItem",(function(e){E("showAllNonBaseMenuItem",{},e)})),i(n,"scanQRCode",(function(e){E("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){if(g){var t=e.resultStr;if(t){var n=JSON.parse(t);e.resultStr=n&&n.scan_code&&n.scan_code.scan_result}}},e))})),i(n,"openAddress",(function(e){E(o.openAddress,{},(e._complete=function(e){e=function(e){return e.postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo,e}(e)},e))})),i(n,"openProductSpecificView",(function(e){E(o.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)})),i(n,"addCard",(function(e){for(var t=e.cardList,n=[],r=0,i=t.length;r<i;++r){var a=t[r],s={card_id:a.cardId,card_ext:a.cardExt};n.push(s)}E(o.addCard,{card_list:n},(e._complete=function(e){var t=e.card_list;if(t){for(var n=0,r=(t=JSON.parse(t)).length;n<r;++n){var i=t[n];i.cardId=i.card_id,i.cardExt=i.card_ext,i.isSuccess=!!i.is_succ,delete i.card_id,delete i.card_ext,delete i.is_succ}e.cardList=t,delete e.card_list}},e))})),i(n,"chooseCard",(function(e){E("chooseCard",{app_id:y.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))})),i(n,"openCard",(function(e){for(var t=e.cardList,n=[],r=0,i=t.length;r<i;++r){var a=t[r],s={card_id:a.cardId,code:a.code};n.push(s)}E(o.openCard,{card_list:n},e)})),i(n,"consumeAndShareCard",(function(e){E(o.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)})),i(n,"chooseWXPay",(function(e){E(o.chooseWXPay,L(e),e)})),i(n,"openEnterpriseRedPacket",(function(e){E(o.openEnterpriseRedPacket,L(e),e)})),i(n,"startSearchBeacons",(function(e){E(o.startSearchBeacons,{ticket:e.ticket},e)})),i(n,"stopSearchBeacons",(function(e){E(o.stopSearchBeacons,{},e)})),i(n,"onSearchBeacons",(function(e){S(o.onSearchBeacons,e)})),i(n,"openEnterpriseChat",(function(e){E("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)})),i(n,"launchMiniProgram",(function(e){E("launchMiniProgram",{targetAppId:e.targetAppId,path:function(e){if("string"==typeof e&&0<e.length){var t=e.split("?")[0],n=e.split("?")[1];return t+=".html",void 0!==n?t+"?"+n:t}}(e.path),envVersion:e.envVersion},e)})),i(n,"openBusinessView",(function(e){E("openBusinessView",{businessType:e.businessType,queryString:e.queryString||"",envVersion:e.envVersion},(e._complete=function(e){if(p){var t=e.extraData;if(t)try{e.extraData=JSON.parse(t)}catch(t){e.extraData={}}}},e))})),i(n,"miniProgram",{navigateBack:function(e){e=e||{},O((function(){E("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)}))},navigateTo:function(e){O((function(){E("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)}))},redirectTo:function(e){O((function(){E("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)}))},switchTab:function(e){O((function(){E("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)}))},reLaunch:function(e){O((function(){E("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)}))},postMessage:function(e){O((function(){E("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)}))},getEnv:function(t){O((function(){t({miniprogram:"miniprogram"===e.__wxjs_environment})}))}}),n),P=1,A={};return s.addEventListener("error",(function(e){if(!p){var t=e.target,n=t.tagName,r=t.src;if(("IMG"==n||"VIDEO"==n||"AUDIO"==n||"SOURCE"==n)&&-1!=r.indexOf("wxlocalresource://")){e.preventDefault(),e.stopPropagation();var i=t["wx-id"];if(i||(i=P++,t["wx-id"]=i),A[i])return;A[i]=!0,wx.ready((function(){wx.getLocalImgData({localId:r,success:function(e){t.src=e.localData}})}))}}}),!0),s.addEventListener("load",(function(e){if(!p){var t=e.target,n=t.tagName;if(t.src,"IMG"==n||"VIDEO"==n||"AUDIO"==n||"SOURCE"==n){var r=t["wx-id"];r&&(A[r]=!1)}}}),!0),t&&(e.wx=e.jWeixin=C),C}function E(t,n,r){e.WeixinJSBridge?WeixinJSBridge.invoke(t,b(n),(function(e){M(t,e,r)})):x(t,r)}function S(t,n,r){e.WeixinJSBridge?WeixinJSBridge.on(t,(function(e){r&&r.trigger&&r.trigger(e),M(t,e,n)})):x(t,r||n)}function b(e){return(e=e||{}).appId=y.appId,e.verifyAppId=y.appId,e.verifySignType="sha1",e.verifyTimestamp=y.timestamp+"",e.verifyNonceStr=y.nonceStr,e.verifySignature=y.signature,e}function L(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function M(e,t,n){"openEnterpriseChat"!=e&&"openBusinessView"!==e||(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var r=t.errMsg;r||(r=t.err_msg,delete t.err_msg,r=function(e,t){var n=e,r=a[n];r&&(n=r);var i="ok";if(t){var o=t.indexOf(":");"confirm"==(i=t.substring(o+1))&&(i="ok"),"failed"==i&&(i="fail"),-1!=i.indexOf("failed_")&&(i=i.substring(7)),-1!=i.indexOf("fail_")&&(i=i.substring(5)),"access denied"!=(i=(i=i.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=i||(i="permission denied"),"config"==n&&"function not exist"==i&&(i="ok"),""==i&&(i="fail")}return n+":"+i}(e,r),t.errMsg=r),(n=n||{})._complete&&(n._complete(t),delete n._complete),r=t.errMsg||"",y.debug&&!n.isInnerInvoke&&alert(JSON.stringify(t));var i=r.indexOf(":");switch(r.substring(i+1)){case"ok":n.success&&n.success(t);break;case"cancel":n.cancel&&n.cancel(t);break;default:n.fail&&n.fail(t)}n.complete&&n.complete(t)}function B(e){if(e){for(var t=0,n=e.length;t<n;++t){var r=e[t],i=o[r];i&&(e[t]=i)}return e}}function x(e,t){if(!(!y.debug||t&&t.isInnerInvoke)){var n=a[e];n&&(e=n),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function D(){return(new Date).getTime()}function O(t){h&&(e.WeixinJSBridge?t():s.addEventListener&&s.addEventListener("WeixinJSBridgeReady",t,!1))}}))},"59ed":function(e,t,n){"use strict";n.r(t);var r=n("7181"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},7181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("fa9a"),i={data:function(){return{show:!0}},props:{modal:{type:Boolean,default:!1},url:{type:String,default:""}},methods:{hideQrcode:function(){this.$emit("hideQrcode")},couponQrCode:function(){new r("couponQrcode",{text:this.url,width:100,height:100,colorDark:"#333333",colorLight:"#FFFFFF",correctLevel:r.CorrectLevel.H})}},mounted:function(){}};t.default=i},"8f7c":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.qrcode-box[data-v-5e1d02ca]{position:fixed;left:0;top:0;right:0;bottom:0;height:100vh;width:100vw;background-color:rgba(59,59,59,.6);text-align:center;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:none}.qrcode-box .qrcode-item[data-v-5e1d02ca]{-webkit-box-flex:1;-webkit-flex:1;flex:1;position:relative;text-align:center}.qrcode-box .qrcode-item .item-box[data-v-5e1d02ca]{width:90%;margin:auto;display:inline-block;margin-top:30%;padding-bottom:%?30?%;background-color:#fff}.qrcode-box .qrcode-item .item-box .title[data-v-5e1d02ca]{font-size:%?46?%;text-align:center;margin-bottom:%?24?%}.qrcode-box .qrcode-item .item-box .canvas[data-v-5e1d02ca]{margin:auto;display:inline-block;margin:auto}.opacity[data-v-5e1d02ca]{opacity:0;display:block}.show[data-v-5e1d02ca]{display:block;-webkit-animation:fade-data-v-5e1d02ca .7s;animation:fade-data-v-5e1d02ca .7s}.hide[data-v-5e1d02ca]{-webkit-animation:hide-data-v-5e1d02ca .7s;animation:hide-data-v-5e1d02ca .7s}@-webkit-keyframes fade-data-v-5e1d02ca{from{opacity:.8}to{opacity:1}}@keyframes fade-data-v-5e1d02ca{from{opacity:.8}to{opacity:1}}@-webkit-keyframes hide-data-v-5e1d02ca{from{opacity:1}to{opacity:0}}@keyframes hide-data-v-5e1d02ca{from{opacity:1}to{opacity:0}}',""]),e.exports=t},"947d":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{class:e.modal?"show":"hide"},[n("v-uni-canvas",{staticClass:"canvas",staticStyle:{width:"200rpx",height:"200rpx"},attrs:{"canvas-id":"couponQrcode"}})],1)},o=[]},9523:function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n},"9cb0":function(e,t,n){var r=n("8f7c");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("ed6790b4",r,!0,{sourceMap:!1,shadowMode:!1})},c943:function(e,t,n){"use strict";n.r(t);var r=n("947d"),i=n("59ed");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("ec5d");var a,s=n("f0c5"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"5e1d02ca",null,!1,r["a"],a);t["default"]=c.exports},ec5d:function(e,t,n){"use strict";var r=n("9cb0"),i=n.n(r);i.a},fa9a:function(e,t,n){var r;n("99af"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),function(){function e(e,n){for(var r=1,i=t(e),o=0,s=p.length;o<=s;o++){var c=0;switch(n){case a.L:c=p[o][0];break;case a.M:c=p[o][1];break;case a.Q:c=p[o][2];break;case a.H:c=p[o][3];break}if(i<=c)break;r++}if(r>p.length)throw new Error("Too long data");return r}function t(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}function n(e){this.mode=o.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,n=this.data.length;t<n;t++){var r=[],i=this.data.charCodeAt(t);i>65536?(r[0]=240|(1835008&i)>>>18,r[1]=128|(258048&i)>>>12,r[2]=128|(4032&i)>>>6,r[3]=128|63&i):i>2048?(r[0]=224|(61440&i)>>>12,r[1]=128|(4032&i)>>>6,r[2]=128|63&i):i>128?(r[0]=192|(1984&i)>>>6,r[1]=128|63&i):r[0]=i,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function i(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}n.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}},i.prototype={addData:function(e){var t=new n(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=c.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},createMovieClip:function(e,t,n){var r=e.createEmptyMovieClip(t,n),i=1;this.make();for(var o=0;o<this.modules.length;o++)for(var a=o*i,s=0;s<this.modules[o].length;s++){var c=s*i,u=this.modules[o][s];u&&(r.beginFill(0,100),r.moveTo(c,a),r.lineTo(c+i,a),r.lineTo(c+i,a+i),r.lineTo(c,a+i),r.endFill())}return r},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=c.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n];if(null==this.modules[r][i])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[r+o][i+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},setupTypeNumber:function(e){for(var t=c.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=c.getBCHTypeInfo(n),i=0;i<15;i++){var o=!e&&1==(r>>i&1);i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(i=0;i<15;i++){o=!e&&1==(r>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,o=0,a=this.moduleCount-1;a>0;a-=2){6==a&&a--;while(1){for(var s=0;s<2;s++)if(null==this.modules[r][a-s]){var u=!1;o<e.length&&(u=1==(e[o]>>>i&1));var d=c.getMask(t,r,a-s);d&&(u=!u),this.modules[r][a-s]=u,i--,-1==i&&(o++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}}}},i.PAD0=236,i.PAD1=17,i.createData=function(e,t,n){for(var r=f.getRSBlocks(e,t),o=new h,a=0;a<n.length;a++){var s=n[a];o.put(s.mode,4),o.put(s.getLength(),c.getLengthInBits(s.mode,e)),s.write(o)}var u=0;for(a=0;a<r.length;a++)u+=r[a].dataCount;if(o.getLengthInBits()>8*u)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*u+")");o.getLengthInBits()+4<=8*u&&o.put(0,4);while(o.getLengthInBits()%8!=0)o.putBit(!1);while(1){if(o.getLengthInBits()>=8*u)break;if(o.put(i.PAD0,8),o.getLengthInBits()>=8*u)break;o.put(i.PAD1,8)}return i.createBytes(o,r)},i.createBytes=function(e,t){for(var n=0,r=0,i=0,o=new Array(t.length),a=new Array(t.length),s=0;s<t.length;s++){var u=t[s].dataCount,d=t[s].totalCount-u;r=Math.max(r,u),i=Math.max(i,d),o[s]=new Array(u);for(var f=0;f<o[s].length;f++)o[s][f]=255&e.buffer[f+n];n+=u;var h=c.getErrorCorrectPolynomial(d),p=new l(o[s],h.getLength()-1),g=p.mod(h);a[s]=new Array(h.getLength()-1);for(f=0;f<a[s].length;f++){var m=f+g.getLength()-a[s].length;a[s][f]=m>=0?g.get(m):0}}var v=0;for(f=0;f<t.length;f++)v+=t[f].totalCount;var w=new Array(v),y=0;for(f=0;f<r;f++)for(s=0;s<t.length;s++)f<o[s].length&&(w[y++]=o[s][f]);for(f=0;f<i;f++)for(s=0;s<t.length;s++)f<a[s].length&&(w[y++]=a[s][f]);return w};for(var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},a={L:1,M:0,Q:3,H:2},s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},c={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){var t=e<<10;while(c.getBCHDigit(t)-c.getBCHDigit(c.G15)>=0)t^=c.G15<<c.getBCHDigit(t)-c.getBCHDigit(c.G15);return(e<<10|t)^c.G15_MASK},getBCHTypeNumber:function(e){var t=e<<12;while(c.getBCHDigit(t)-c.getBCHDigit(c.G18)>=0)t^=c.G18<<c.getBCHDigit(t)-c.getBCHDigit(c.G18);return e<<12|t},getBCHDigit:function(e){var t=0;while(0!=e)t++,e>>>=1;return t},getPatternPosition:function(e){return c.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case s.PATTERN000:return(t+n)%2==0;case s.PATTERN001:return t%2==0;case s.PATTERN010:return n%3==0;case s.PATTERN011:return(t+n)%3==0;case s.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case s.PATTERN101:return t*n%2+t*n%3==0;case s.PATTERN110:return(t*n%2+t*n%3)%2==0;case s.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new l([1],0),n=0;n<e;n++)t=t.multiply(new l([1,u.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:return 8;case o.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var o=0,a=e.isDark(r,i),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var c=-1;c<=1;c++)i+c<0||t<=i+c||0==s&&0==c||a==e.isDark(r+s,i+c)&&o++;o>5&&(n+=3+o-5)}for(r=0;r<t-1;r++)for(i=0;i<t-1;i++){var u=0;e.isDark(r,i)&&u++,e.isDark(r+1,i)&&u++,e.isDark(r,i+1)&&u++,e.isDark(r+1,i+1)&&u++,0!=u&&4!=u||(n+=3)}for(r=0;r<t;r++)for(i=0;i<t-6;i++)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(i=0;i<t;i++)for(r=0;r<t-6;r++)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);var d=0;for(i=0;i<t;i++)for(r=0;r<t;r++)e.isDark(r,i)&&d++;var l=Math.abs(100*d/t/t-50)/5;return n+=10*l,n}},u={glog:function(e){if(e<1)throw new Error("glog("+e+")");return u.LOG_TABLE[e]},gexp:function(e){while(e<0)e+=255;while(e>=256)e-=255;return u.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},d=0;d<8;d++)u.EXP_TABLE[d]=1<<d;for(d=8;d<256;d++)u.EXP_TABLE[d]=u.EXP_TABLE[d-4]^u.EXP_TABLE[d-5]^u.EXP_TABLE[d-6]^u.EXP_TABLE[d-8];for(d=0;d<255;d++)u.LOG_TABLE[u.EXP_TABLE[d]]=d;function l(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);var n=0;while(n<e.length&&0==e[n])n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}function f(e,t){this.totalCount=e,this.dataCount=t}function h(){this.buffer=[],this.length=0}l.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=u.gexp(u.glog(this.get(n))+u.glog(e.get(r)));return new l(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=u.glog(this.get(0))-u.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(r=0;r<e.getLength();r++)n[r]^=u.gexp(u.glog(e.get(r))+t);return new l(n,0).mod(e)}},f.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],f.getRSBlocks=function(e,t){var n=f.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,i=[],o=0;o<r;o++)for(var a=n[3*o+0],s=n[3*o+1],c=n[3*o+2],u=0;u<a;u++)i.push(new f(s,c));return i},f.getRsBlockTable=function(e,t){switch(t){case a.L:return f.RS_BLOCK_TABLE[4*(e-1)+0];case a.M:return f.RS_BLOCK_TABLE[4*(e-1)+1];case a.Q:return f.RS_BLOCK_TABLE[4*(e-1)+2];case a.H:return f.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},h.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var p=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];r=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:a.H},"string"===typeof t&&(t={text:t}),t)for(var n in t)this._htOption[n]=t[n];this._oQRCode=null,this.canvasId=e,this._htOption.text&&this.canvasId&&this.makeCode(this._htOption.text)},r.prototype.makeCode=function(t){this._oQRCode=new i(e(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this.makeImage()},r.prototype.makeImage=function(){var e;e=this._htOption.usingIn?wx.createCanvasContext(this.canvasId,this._htOption.usingIn):wx.createCanvasContext(this.canvasId);var t=this._htOption,n=this._oQRCode,r=n.getModuleCount(),i=t.width/r,o=t.height/r,a=Math.round(i),s=Math.round(o);t.image&&""!=t.image&&e.drawImage(t.image,0,0,t.width,t.height);for(var c=0;c<r;c++)for(var u=0;u<r;u++){var d=n.isDark(c,u),l=u*i,f=c*o;e.setStrokeStyle(d?t.colorDark:t.colorLight),e.setLineWidth(1),e.setFillStyle(d?t.colorDark:t.colorLight),e.fillRect(l,f,i,o),e.strokeRect(Math.floor(l)+.5,Math.floor(f)+.5,a,s),e.strokeRect(Math.ceil(l)-.5,Math.ceil(f)-.5,a,s)}e.draw()},r.prototype.exportImage=function(e){e&&wx.canvasToTempFilePath({x:0,y:0,width:this._htOption.width,height:this._htOption.height,destWidth:this._htOption.width,destHeight:this._htOption.height,canvasId:this.canvasId,success:function(t){console.log(t.tempFilePath),e(t.tempFilePath)}})},r.CorrectLevel=a}(),e.exports=r}}]);